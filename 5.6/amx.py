import pandas as pd
import matplotlib.pyplot as plt

# ------------------------
# Data
# ------------------------
data = {
    'sparsity': [
        0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,0.00,
        0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,
        0.50,0.50,0.50,0.50,0.50,0.50,0.50,0.50,0.50,0.50,
        0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,
        1.00,1.00,1.00,1.00,1.00,1.00,1.00,1.00,1.00,1.00
    ],
    'trial': [
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9,
        0,1,2,3,4,5,6,7,8,9
    ],
    'cycles': [
        2606998,2592194,1519070,58271888,2638306,2569132,138588800,2648380,2588434,106020794,
        2643776,1705794,2333548,1588342,2378062,2592890,114620016,1911848,1864668,2606398,
        121998618,1978880,2398994,121702006,2431476,2605338,2418060,118610142,2534088,2776598,
        130668188,2526480,2472786,114578382,2251502,1680736,1586202,129645034,2108866,2481178,
        114618362,1986908,2599940,130424702,2555394,2623764,2590568,1587452,2412544,2602720
    ]
}

df = pd.DataFrame(data)

# ------------------------
# Plot
# ------------------------
plt.figure(figsize=(12,6))

# Plot each trial as a separate line
for trial in df['trial'].unique():
    trial_data = df[df['trial'] == trial]
    plt.plot(trial_data['sparsity'], trial_data['cycles'], marker='o', label=f'Trial {trial}')

plt.xlabel('Matrix Sparsity (Fraction of Zeros)')
plt.ylabel('Cycles')
plt.title('Intel AMX Zero-Skipping Test (Sapphire Rapids)')
plt.grid(True, linestyle='--', alpha=0.5)
plt.legend(title='Trial', bbox_to_anchor=(1.05, 1), loc='upper left')
plt.tight_layout()
plt.show()
    